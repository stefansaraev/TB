#!/bin/bash

# SPDX-License-Identifier: GPL-2.0-only

deps="
  automake autopoint bc bison bzip2 chrpath cmake cpio devscripts fakeroot
  g++ gawk gcc gperf intltool libtool-bin lzop meson ninja-build patch pkg-config
  squashfs-tools swig tar texinfo unzip wget xmlstarlet zip
  libc6-dev libncurses5-dev zlib1g-dev
"

need=""
for dep in $deps ; do
  dpkg-query -s $dep &>/dev/null
  if [ $? -ne 0 ] ; then
    need="$need $dep"
  fi
done

if [ -n "$need" ]; then
  echo "**** Your system lacks the following packages ****"
  echo $need
  exit 1
fi
